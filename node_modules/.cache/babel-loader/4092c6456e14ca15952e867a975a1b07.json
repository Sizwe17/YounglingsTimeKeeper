{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Sizwe Hugo\\\\Desktop\\\\Younglings TimeKeeper\\\\YounglingsTimekeeper-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nexport const CREATE_POST = \"CREATE_POST\";\nexport const CREATE_POST_ERROR = \"CREATE_POST_ERROR\";\nexport const DELETE_POST = \"DELETE_POST\";\nexport const UPDATE_POST = \"UPDATE_POST\";\nexport const STORE_POSTS_SUCCESS = \"STORE_POSTS_SUCCESS\";\nexport const STORE_POSTS_ERROR = \"STORE_POSTS_ERROR\";\nexport const createPost = post => {\n  return (dispatch, getState, {\n    getFirestore\n  }) => {\n    // make async call to database\n    const firestore = getFirestore();\n    const profile = getState().firebase.profile;\n    const authorId = getState().firebase.auth.uid;\n    firestore.collection(\"posts\").add(_objectSpread({}, post, {\n      authorFirstName: profile.firstName,\n      authorLastName: profile.lastName,\n      authorId: authorId,\n      createdAt: Date.now()\n    })).then(() => {\n      dispatch({\n        type: CREATE_POST\n      });\n    }).catch(error => {\n      dispatch({\n        type: CREATE_POST_ERROR,\n        error\n      });\n    });\n  };\n};\nexport const deletePost = id => {\n  return (dispatch, getState, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection(\"posts\").doc(id).delete().then(() => {\n      dispatch({\n        type: DELETE_POST,\n        id\n      });\n    });\n  };\n};\nexport const updatePost = (id, post) => {\n  return (dispatch, getState, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection(\"posts\").doc(id).update(post).then(() => {\n      dispatch({\n        type: UPDATE_POST\n      });\n    });\n  };\n};\nexport const storePosts = () => {\n  return (dispatch, getState, {\n    getFirestore\n  }) => {\n    console.log(\"storePosts has run\"); //  console.log(database.ref(\"posts\"));\n\n    const firestore = getFirestore();\n    firestore.collection(\"posts\").get().then(snapshot => {\n      //  console.log(snapshot);\n      dispatch({\n        type: STORE_POSTS_SUCCESS,\n        payload: snapshot\n      });\n    }).catch(error => {\n      dispatch({\n        type: STORE_POSTS_ERROR,\n        error\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Sizwe Hugo/Desktop/Younglings TimeKeeper/YounglingsTimekeeper-master/src/store/actions/postActions.js"],"names":["CREATE_POST","CREATE_POST_ERROR","DELETE_POST","UPDATE_POST","STORE_POSTS_SUCCESS","STORE_POSTS_ERROR","createPost","post","dispatch","getState","getFirestore","firestore","profile","firebase","authorId","auth","uid","collection","add","authorFirstName","firstName","authorLastName","lastName","createdAt","Date","now","then","type","catch","error","deletePost","id","doc","delete","updatePost","update","storePosts","console","log","get","snapshot","payload"],"mappings":"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","sourcesContent":["\nexport const CREATE_POST = \"CREATE_POST\";\nexport const CREATE_POST_ERROR = \"CREATE_POST_ERROR\";\nexport const DELETE_POST = \"DELETE_POST\";\nexport const UPDATE_POST = \"UPDATE_POST\";\nexport const STORE_POSTS_SUCCESS = \"STORE_POSTS_SUCCESS\";\nexport const STORE_POSTS_ERROR = \"STORE_POSTS_ERROR\";\n\nexport const createPost = post => {\n  return (dispatch, getState, { getFirestore }) => {\n    // make async call to database\n    const firestore = getFirestore();\n    const profile = getState().firebase.profile;\n    const authorId = getState().firebase.auth.uid;\n    firestore\n      .collection(\"posts\")\n      .add({\n        ...post,\n        authorFirstName: profile.firstName,\n        authorLastName: profile.lastName,\n        authorId: authorId,\n        createdAt: Date.now()\n      })\n      .then(() => {\n        dispatch({ type: CREATE_POST });\n      })\n      .catch(error => {\n        dispatch({ type: CREATE_POST_ERROR, error });\n      });\n  };\n};\n\nexport const deletePost = id => {\n  return (dispatch, getState, { getFirestore }) => {\n    const firestore = getFirestore();\n\n    firestore\n      .collection(\"posts\")\n      .doc(id)\n      .delete()\n      .then(() => {\n        dispatch({ type: DELETE_POST, id });\n      });\n  };\n};\n\nexport const updatePost = (id, post) => {\n  return (dispatch, getState, { getFirestore }) => {\n    const firestore = getFirestore();\n    firestore\n      .collection(\"posts\")\n      .doc(id)\n      .update(post)\n      .then(() => {\n        dispatch({ type: UPDATE_POST });\n      });\n  };\n};\n\nexport const storePosts = () => {\n  return (dispatch, getState, { getFirestore }) => {\n    console.log(\"storePosts has run\");\n    //  console.log(database.ref(\"posts\"));\n    const firestore = getFirestore();\n\n    firestore\n      .collection(\"posts\")\n      .get()\n      .then(snapshot => {\n        //  console.log(snapshot);\n        dispatch({ type: STORE_POSTS_SUCCESS, payload: snapshot });\n      })\n      .catch(error => {\n        dispatch({ type: STORE_POSTS_ERROR, error });\n      });\n  };\n};\n\n\n"]},"metadata":{},"sourceType":"module"}